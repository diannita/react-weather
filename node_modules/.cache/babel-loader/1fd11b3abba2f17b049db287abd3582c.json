{"ast":null,"code":"import _classCallCheck from \"/Users/happycat/Documents/SheCodes_CodingSpace/SheCodes-React/react-weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/happycat/Documents/SheCodes_CodingSpace/SheCodes-React/react-weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/happycat/Documents/SheCodes_CodingSpace/SheCodes-React/react-weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/happycat/Documents/SheCodes_CodingSpace/SheCodes-React/react-weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/happycat/Documents/SheCodes_CodingSpace/SheCodes-React/react-weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/happycat/Documents/SheCodes_CodingSpace/SheCodes-React/react-weather/src/Weather.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport \"./Weather.css\";\nimport WeatherIcon from \"./WeatherIcon\";\nimport CurrentLocation from \"./CurrentLocation\";\nimport Search from \"./Search\";\nimport DateUtil from \"./DateUtil\";\nimport Api from \"./Api\";\nimport Forecast from \"./Forecast\";\nvar Weather = /*#__PURE__*/function (_Component) {\n  _inherits(Weather, _Component);\n  function Weather() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, Weather);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Weather)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      city: _this.props.city\n    };\n    _this.refreshWeatherFromLatitudeAndLongitude = function (latitude, longitude) {\n      _this.refreshWeatherFromParams(\"lat=\".concat(latitude, \"&lon=\").concat(longitude));\n    };\n    _this.refresh = function (city) {\n      _this.refreshWeatherFromParams(\"q=\".concat(city));\n    };\n    return _this;\n  }\n  _createClass(Weather, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.refresh(this.state.city);\n    }\n  }, {\n    key: \"refreshWeatherFromParams\",\n    value: function refreshWeatherFromParams(params) {\n      var _this2 = this;\n      var url = \"\".concat(Api.url, \"/data/2.5/weather?appid=\").concat(Api.key, \"&units=metric&\").concat(params);\n      axios.get(url).then(function (response) {\n        _this2.setState({\n          city: response.data.name,\n          weather: {\n            description: response.data.weather[0].main,\n            icon: response.data.weather[0].icon,\n            precipitation: Math.round(response.data.main.humidity) + \"%\",\n            temperature: Math.round(response.data.main.temp),\n            time: new DateUtil(new Date(response.data.dt * 1000)).dayTime(),\n            wind: Math.round(response.data.wind.speed) + \"km/h\"\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.weather) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"clearfix\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Search, {\n          refresh: this.refresh,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(CurrentLocation, {\n          refresh: this.refreshWeatherFromLatitudeAndLongitude,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"weather-summary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"weather-summary-header\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }\n        }, this.state.city), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"weather-detail__text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }\n        }, this.state.weather.time), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"weather-detail__text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }\n        }, this.state.weather.description)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"clearfix\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"float-left weather-icon\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(WeatherIcon, {\n          iconName: this.state.weather.icon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"weather-temp weather-temp--today\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 19\n          }\n        }, this.state.weather.temperature), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"weather-unit__text weather-unit__text--today\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 19\n          }\n        }, \"\\xB0C\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-sm-6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"weather-detail__text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }\n        }, \"Precipitation: \", this.state.weather.precipitation), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"weather-detail__text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }\n        }, \"Wind: \", this.state.weather.wind)))), /*#__PURE__*/React.createElement(Forecast, {\n          city: this.state.city,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 9\n          }\n        }, \"App is loading, \", /*#__PURE__*/React.createElement(\"em\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 27\n          }\n        }, \"please wait...\"));\n      }\n    }\n  }]);\n  return Weather;\n}(Component);\nWeather.propTypes = {\n  city: PropTypes.string.isRequired\n};\nexport { Weather as default };","map":{"version":3,"names":["React","Component","PropTypes","axios","WeatherIcon","CurrentLocation","Search","DateUtil","Api","Forecast","Weather","state","city","props","refreshWeatherFromLatitudeAndLongitude","latitude","longitude","refreshWeatherFromParams","refresh","params","url","key","get","then","response","setState","data","name","weather","description","main","icon","precipitation","Math","round","humidity","temperature","temp","time","Date","dt","dayTime","wind","speed","propTypes","string","isRequired"],"sources":["/Users/happycat/Documents/SheCodes_CodingSpace/SheCodes-React/react-weather/src/Weather.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport \"./Weather.css\";\nimport WeatherIcon from \"./WeatherIcon\";\nimport CurrentLocation from \"./CurrentLocation\";\nimport Search from \"./Search\";\nimport DateUtil from \"./DateUtil\";\nimport Api from \"./Api\";\nimport Forecast from \"./Forecast\";\n\nexport default class Weather extends Component {\n  static propTypes = {\n    city: PropTypes.string.isRequired\n  };\n\n  state = {\n    city: this.props.city\n  };\n\n  componentWillMount() {\n    this.refresh(this.state.city);\n  }\n\n  refreshWeatherFromParams(params) {\n    let url = `${Api.url}/data/2.5/weather?appid=${\n      Api.key\n    }&units=metric&${params}`;\n    axios.get(url).then(response => {\n      this.setState({\n        city: response.data.name,\n        weather: {\n          description: response.data.weather[0].main,\n          icon: response.data.weather[0].icon,\n          precipitation: Math.round(response.data.main.humidity) + \"%\",\n          temperature: Math.round(response.data.main.temp),\n          time: new DateUtil(new Date(response.data.dt * 1000)).dayTime(),\n          wind: Math.round(response.data.wind.speed) + \"km/h\"\n        }\n      });\n    });\n  }\n\n  refreshWeatherFromLatitudeAndLongitude = (latitude, longitude) => {\n    this.refreshWeatherFromParams(`lat=${latitude}&lon=${longitude}`);\n  };\n\n  refresh = city => {\n    this.refreshWeatherFromParams(`q=${city}`);\n  };\n\n  render() {\n    if (this.state.weather) {\n      return (\n        <div>\n          <div className=\"clearfix\">\n            <Search refresh={this.refresh} />\n            <CurrentLocation\n              refresh={this.refreshWeatherFromLatitudeAndLongitude}\n            />\n          </div>\n\n          <div className=\"weather-summary\">\n            <div className=\"weather-summary-header\">\n              <h1>{this.state.city}</h1>\n              <div className=\"weather-detail__text\">\n                {this.state.weather.time}\n              </div>\n              <div className=\"weather-detail__text\">\n                {this.state.weather.description}\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"col-sm-6\">\n                <div className=\"clearfix\">\n                  <div className=\"float-left weather-icon\">\n                    <WeatherIcon iconName={this.state.weather.icon} />\n                  </div>\n                  <div className=\"weather-temp weather-temp--today\">\n                    {this.state.weather.temperature}\n                  </div>\n                  <div className=\"weather-unit__text weather-unit__text--today\">\n                    °C\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-sm-6\">\n                <div className=\"weather-detail__text\">\n                  Precipitation: {this.state.weather.precipitation}\n                </div>\n                <div className=\"weather-detail__text\">\n                  Wind: {this.state.weather.wind}\n                </div>\n              </div>\n            </div>\n          </div>\n          <Forecast city={this.state.city} />\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          App is loading, <em>please wait...</em>\n        </div>\n      );\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}